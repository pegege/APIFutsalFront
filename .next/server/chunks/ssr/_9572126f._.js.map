{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/pablo/Desktop/pruebas/APIFutsal/frontend/app/matches/matchBrowser.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useSearchParams } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { useEffect, useState } from 'react';\r\n\r\nconst MIN_SEASON = 2005;\r\nconst MAX_SEASON = 2025;\r\nconst MIN_JORNADA = 1;\r\nconst MAX_JORNADA = 34;\r\n\r\ninterface TeamInfo {\r\n  _id: string;\r\n  name: string;\r\n}\r\n\r\ninterface Player {\r\n  _id: string;\r\n  name: string;\r\n  nickname?: string;\r\n}\r\n\r\ninterface Match {\r\n  _id: string;\r\n  homeTeam: TeamInfo;\r\n  awayTeam: TeamInfo;\r\n  score: string;\r\n  season: number;\r\n  jornada: number;\r\n  startingPlayersHome: Player[];\r\n  startingPlayersAway: Player[];\r\n  substitutesAway: Player[];\r\n  substitutesHome: Player[];\r\n  notPlayedAway: Player[];\r\n  notPlayedHome: Player[];\r\n}\r\n\r\nexport default function MatchBrowser() {\r\n  const searchParams = useSearchParams();\r\n  const seasonParam = searchParams.get(\"season\");\r\n  const jornadaParam = searchParams.get(\"jornada\");\r\n\r\n  const season = Math.min(Math.max(parseInt(seasonParam || `${MAX_SEASON}`, 10), MIN_SEASON), MAX_SEASON);\r\n  const jornada = Math.max(parseInt(jornadaParam || `${MIN_JORNADA}`, 10), MIN_JORNADA);\r\n\r\n  const [matches, setMatches] = useState<Match[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const getURL = (s: number, j: number) => {\r\n    const params = new URLSearchParams({\r\n      season: s.toString(),\r\n      jornada: j.toString(),\r\n    });\r\n    return `/matches?${params.toString()}`;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchMatches = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const url = new URL(`${process.env.NEXT_PUBLIC_API_URL}/api/matches`);\r\n        url.searchParams.set(\"season\", String(season));\r\n        url.searchParams.set(\"jornada\", String(jornada));\r\n\r\n        const res = await fetch(url.toString(), { cache: \"no-store\" });\r\n        const json = await res.json();\r\n        setMatches(json.data);\r\n      } catch (err) {\r\n        console.error(\"❌ Error al cargar partidos:\", err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchMatches();\r\n  }, [season, jornada]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex flex-wrap gap-6 justify-center mb-6\">\r\n        <div className=\"flex items-center gap-2\">\r\n          {season < MAX_SEASON && (\r\n            <Link href={getURL(season + 1, jornada)} className=\"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300\">←</Link>\r\n          )}\r\n          <span className=\"font-semibold\">Temporada {season}</span>\r\n          {season > MIN_SEASON && (\r\n            <Link href={getURL(season - 1, jornada)} className=\"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300\">→</Link>\r\n          )}\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          {jornada > MIN_JORNADA && (\r\n            <Link href={getURL(season, jornada - 1)} className=\"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300\">←</Link>\r\n          )}\r\n          <span className=\"font-semibold\">Jornada {jornada}</span>\r\n          {jornada < MAX_JORNADA && (\r\n            <Link href={getURL(season, jornada + 1)} className=\"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300\">→</Link>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <p className=\"text-center\">Cargando partidos...</p>\r\n      ) : matches.length === 0 ? (\r\n        <p className=\"text-center text-gray-500\">No hay partidos para esta temporada y jornada.</p>\r\n      ) : (\r\n        <ul className=\"space-y-2\">\r\n          {matches.map((match) => (\r\n            <li key={match._id} className=\"p-4 bg-white rounded shadow hover:bg-blue-50 transition\">\r\n              <Link href={`/matches/${match._id}`} className=\"block\">\r\n                <div className=\"text-lg font-medium truncate\">\r\n                  {match.homeTeam.name} vs {match.awayTeam.name}\r\n                </div>\r\n                <div className=\"text-gray-500 text-sm\">\r\n                  {match.score} | Temporada {match.season} | Jornada {match.jornada}\r\n                </div>\r\n              </Link>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 220, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/pablo/Desktop/pruebas/APIFutsal/frontend/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}